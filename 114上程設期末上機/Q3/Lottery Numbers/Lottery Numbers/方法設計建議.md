# C# 樂透號碼產生器 - 方法功能與名稱建議

## ?? 核心方法建議

### 1. 事件處理方法 (Event Handlers)

#### 現有方法改進建議：
```csharp
// ? 現有的良好命名
private void generateButton_Click(object sender, EventArgs e)
private void loadNumbersButton_Click(object sender, EventArgs e)  
private void exitButton_Click(object sender, EventArgs e)

// ?? 替代命名建議（更具描述性）
private void GenerateNumbersButton_Click(object sender, EventArgs e)
private void LoadWinningNumbersButton_Click(object sender, EventArgs e)
private void ExitApplicationButton_Click(object sender, EventArgs e)
```

### 2. 核心功能方法 (Core Function Methods)

#### ?? **號碼產生相關方法**
```csharp
// 目前實作在 generateButton_Click 中，建議獨立出來：
private int[] GenerateRandomNumbers(int count, int minValue, int maxValue)
private bool IsNumberDuplicate(int[] existingNumbers, int newNumber, int currentIndex)
private void DisplayNumbersOnLabels(int[] numbers, Label[] labels)
```

#### ?? **檔案處理相關方法**
```csharp
// 目前實作在 loadNumbersButton_Click 中，建議細分：
private int[] ReadWinningNumbersFromFile(string filePath)
private bool ValidateNumberRange(int number, int min, int max)
private void DisplayWinningNumbersInListBox(int[] numbers)
```

#### ?? **比對與結果方法**
```csharp
// ? 現有方法名稱很好
private void CompareWithWinningNumbers(int[] userNumbers)

// ?? 建議細分為：
private int CountMatchingNumbers(int[] userNumbers, int[] winningNumbers)
private string GetMatchingNumbersString(int[] userNumbers, int[] winningNumbers)
private string DeterminePrizeLevel(int matchCount)
private void DisplayComparisonResult(int matchCount, string matchedNumbers, string prize)
```

## ?? 建議的完整方法結構

### 主要功能方法
```csharp
public partial class Form1 : Form
{
    // === 事件處理方法 ===
    private void generateButton_Click(object sender, EventArgs e)
    private void loadNumbersButton_Click(object sender, EventArgs e)
    private void exitButton_Click(object sender, EventArgs e)

    // === 號碼產生方法 ===
    private int[] GenerateUniqueRandomNumbers(int count)
    private bool CheckDuplicate(int[] numbers, int newNumber, int length)
    private void ShowNumbersOnLabels(int[] numbers)

    // === 檔案處理方法 ===
    private bool LoadWinningNumbers(string filePath)
    private bool IsValidNumber(int number)
    private void UpdateWinningNumbersDisplay(int[] numbers)

    // === 比對與結果方法 ===
    private void CompareNumbers(int[] userNumbers)
    private int CalculateMatches(int[] user, int[] winning)
    private string BuildMatchedNumbersText(int[] user, int[] winning)
    private string GetPrizeText(int matchCount)
    
    // === 輔助方法 ===
    private void ShowSuccessMessage(string message)
    private void ShowErrorMessage(string message)
    private void EnableGenerateButton()
    private void ClearPreviousResults()
}
```

## ?? 方法命名最佳實踐

### ? 良好的命名模式：
- **動詞開頭**: `Generate`, `Load`, `Compare`, `Display`, `Validate`
- **描述性**: `GenerateUniqueRandomNumbers` 比 `GenNums` 好
- **一致性**: 所有類似功能使用相同動詞模式
- **清晰性**: `CheckDuplicate` 比 `Check` 好

### ?? 進階建議：

#### 1. **責任單一化**
```csharp
// ? 一個方法做太多事
private void ProcessNumbers()

// ? 分解為單一責任
private int[] GenerateNumbers()
private void DisplayNumbers(int[] numbers)
private void CompareAndShowResult(int[] numbers)
```

#### 2. **返回值明確化**
```csharp
// ? 明確的返回值
private bool IsFileValid(string path)
private int[] ParseNumbersFromFile(string path)
private string FormatResultMessage(int matches)
```

#### 3. **參數命名清晰**
```csharp
// ? 參數名稱清楚表達用途
private void ValidateNumberRange(int number, int minValue, int maxValue)
private bool CheckForDuplicates(int[] existingNumbers, int candidateNumber)
```

## ?? 學生實作建議

### 基礎版本（適合初學者）：
```csharp
// 保持簡單，重點在邏輯正確性
private void 產生號碼()
private void 載入開獎號碼()
private void 比對號碼()
private void 顯示結果()
```

### 進階版本（程式設計較熟練）：
```csharp
// 注重程式架構和方法分工
private int[] GenerateUniqueNumbers(int count, int max)
private bool LoadWinningNumbersFromFile(string filePath)
private ComparisonResult CompareNumbers(int[] user, int[] winning)
private void DisplayResult(ComparisonResult result)
```

## ?? 重構建議順序

1. **保持現有功能正常** - 先確保程式能運行
2. **提取重複代碼** - 將相同邏輯提取為獨立方法
3. **改善方法命名** - 使用更描述性的名稱
4. **單一責任重構** - 確保每個方法只負責一件事
5. **添加參數驗證** - 增加輸入驗證邏輯
6. **改善錯誤處理** - 統一錯誤處理方式

---
**?? 目標**: 讓程式碼更易讀、易維護、易測試，同時保持功能的完整性和正確性。